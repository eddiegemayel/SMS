<!-- Event container -->
<div class="event">
<h2>UFC 182</h2>
<h3>January 1, 2015</h3>
<div class="eventContainer">
	<!-- Row of fights -->
	<div class="row1">
		<!-- Fight forms to vote -->
		<div class="fight1form">
			<form class="redChoice" ng-controller="vote" ng-submit="voteRed1()">
				<p><label><input ng-model="red1.result" type="radio" value="sub" />Submission</label></p>
				<p><label><input ng-model="red1.result" type="radio" value="tko" />(T)KO</label></p>
				<p><label><input ng-model="red1.result" type="radio" value="dec" />Decision</label></p>
				<p><button class="fight">Pick!</button></p>
			</form>
			<form class="blueChoice" ng-controller="vote" ng-submit="voteBlue1()">
				<p><label><input type="radio" ng-model="blue1.result" value="sub" />Submission</label></p>
				<p><label><input type="radio" ng-model="blue1.result" value="tko" />(T)KO</label></p>
				<p><label><input type="radio" ng-model="blue1.result" value="dec" />Decision</label></p>
				<p><button class="fight">Pick!</button></p>
			</form>
		</div>

		<!-- fight images -->
		<img src="images/fight.jpg"/>
		<img src="images/fight2.jpg"/>

		<div class="fight2form">
			<form class="redChoice" ng-controller="vote" ng-submit="voteRed2()">
				<p><label><input ng-model="red2.result" type="radio" value="sub" />Submission</label></p>
				<p><label><input ng-model="red2.result" type="radio" value="tko" />(T)KO</label></p>
				<p><label><input ng-model="red2.result" type="radio" value="dec" />Decision</label></p>
				<p><button class="fight">Pick!</button></p>
			</form>
			<form class="blueChoice" ng-controller="vote" ng-submit="voteBlue2()">
				<p><label><input type="radio" ng-model="blue2.result" value="sub" />Submission</label></p>
				<p><label><input type="radio" ng-model="blue2.result" value="tko" />(T)KO</label></p>
				<p><label><input type="radio" ng-model="blue2.result" value="dec" />Decision</label></p>
				<p><button class="fight">Pick!</button></p>
			</form>
		</div>
	</div>

	<!-- row 2 of fights -->
	<div class="row2">
		<div class="fight1form">
			<form class="redChoice" ng-controller="vote" ng-submit="voteRed3()">
				<p><label><input ng-model="red3.result" type="radio" value="sub" />Submission</label></p>
				<p><label><input ng-model="red3.result" type="radio" value="tko" />(T)KO</label></p>
				<p><label><input ng-model="red3.result" type="radio" value="dec" />Decision</label></p>
				<p><button class="fight">Pick!</button></p>
			</form>
			<form class="blueChoice" ng-controller="vote" ng-submit="voteBlue3()">
				<p><label><input type="radio" ng-model="blue3.result" value="sub" />Submission</label></p>
				<p><label><input type="radio" ng-model="blue3.result" value="tko" />(T)KO</label></p>
				<p><label><input type="radio" ng-model="blue3.result" value="dec" />Decision</label></p>
				<p><button class="fight">Pick!</button></p>
			</form>
		</div>

		<!-- fight images -->
		<img src="images/fight3.jpg"/>
		<img src="images/fight4.jpg"/>

		<div class="fight2form">
			<form class="redChoice" ng-controller="vote" ng-submit="voteRed4()">
				<p><label><input ng-model="red4.result" type="radio" value="sub" />Submission</label></p>
				<p><label><input ng-model="red4.result" type="radio" value="tko" />(T)KO</label></p>
				<p><label><input ng-model="red4.result" type="radio" value="dec" />Decision</label></p>
				<p><button class="fight">Pick!</button></p>
			</form>
			<form class="blueChoice" ng-controller="vote" ng-submit="voteBlue4()">
				<p><label><input type="radio" ng-model="blue4.result" value="sub" />Submission</label></p>
				<p><label><input type="radio" ng-model="blue4.result" value="tko" />(T)KO</label></p>
				<p><label><input type="radio" ng-model="blue4.result" value="dec" />Decision</label></p>
				<p><button class="fight">Pick!</button></p>
			</form>
		</div>

		
	</div>

	<!-- Lower area where result details are shown -->
	<div class="results">
		<!-- Live percentage vote results -->
		<h2>Live Results</h2>
		<h3>The <span class="highlight">Green</span> Highlights Who Is Recieving Majority Picks</h3>
		<!-- Calculates total number of votes by adding them all together -->
		<h4>General Consensus From 
		<span class="highlight">{{redFight1.length + blueFight1.length + redFight3.length + redFight4.length + blueFight2.length + blueFight3.length + blueFight4.length}}</span> 
		Votes</h4>
		

	<!-- column of fighter pick results -->
	<div class="columnLeft">
		<!-- little equation to find the percentages of votes 
			Number of votes for the fighter divided by number of votes between fighter and his opponent added
			Multiplied by 100 to show the true percent
			also added "Number : 2" to decrease the amount of digits after the decimal point to appear
		-->

		<!-- 
			ng-class to highlight who is winning in votes
		-->
		<h3><span ng-class="{'highlight':(redFight1.length / (redFight1.length + blueFight1.length) * 100) > 50}">{{redFight1.length / (redFight1.length + blueFight1.length) * 100 | number : 1}}%</span> : Jones| --</h3>
		<h3><span ng-class="{'highlight':(redFight2.length / (redFight2.length + blueFight2.length) * 100) > 50}">{{redFight2.length / (redFight2.length + blueFight2.length) * 100 | number : 1}}%</span> : Diaz| --</h3>
		<h3><span ng-class="{'highlight':(redFight3.length / (redFight3.length + blueFight3.length) * 100) > 50}">{{redFight3.length / (redFight3.length + blueFight3.length) * 100 | number : 1}}%</span> : Overeem| --</h3>
		<h3><span ng-class="{'highlight':(redFight4.length / (redFight4.length + blueFight4.length) * 100) > 50}">{{redFight4.length / (redFight4.length + blueFight4.length) * 100 | number : 1}}%</span> : Aldo|  <span class="red">LI</span></h3>
	</div>

		<!-- another column of fighter pick results -->
	<div class="columnRight">
		<h3>-- |Cormier : <span ng-class="{'highlight':(blueFight1.length / (redFight1.length + blueFight1.length) * 100) > 50}">{{blueFight1.length / (redFight1.length + blueFight1.length) * 100 | number : 1}}%</span> </h3>
		<h3>-- |Silva : <span ng-class="{'highlight':(blueFight2.length / (redFight2.length + blueFight2.length) * 100) > 50}">{{blueFight2.length / (redFight2.length + blueFight2.length) * 100 | number : 1}}%</span> </h3>
		<h3>-- |Browne : <span ng-class="{'highlight':(blueFight3.length / (redFight3.length + blueFight3.length) * 100) > 50}">{{blueFight3.length / (redFight3.length + blueFight3.length) * 100 | number : 1}}%</span> </h3>
		<h3><span class="red">VE</span> |Mcgregor : <span ng-class="{'highlight':(blueFight4.length / (redFight4.length + blueFight4.length) * 100) > 50}">{{blueFight4.length / (redFight4.length + blueFight4.length) * 100 | number : 1}}%</span></h3>
	</div>

	<!-- Breakdown Area Begins -->
	
		<div ng-controller="breakdown" class="breakdownContainer" >
			<!-- Each of these divs do not show, because nothing is in them. 
				Each div has an ng-repeat, looping thru each fight pick array
				Every ng-repeat has a filter, filtering specific results, i.e tko, submission, decision
				
				I will explain this peice of code
				ng-repeat="red in filter1 = (fight1Red | filter:'tko')"

				I am saying, repeat red in the array fight1Red (which was created in the breakdown controller in main.js)
				with the filter of 'tko'. Anything else that has 'sub' or 'dec', get put into filter1, which
				is an array i call later, down below, to calculate the percentage of people who thought Jones would win via TKO

				-->

			<!-- Jones  -->
			<div ng-repeat="red in filter1 = (fight1Red | filter:'tko')">
			</div>
			<div ng-repeat="red in filter2 = (fight1Red | filter:'sub')">
			</div>
			<div ng-repeat="red in filter3 = (fight1Red | filter:'dec')">
			</div>	

			<!-- Cormier -->
			<div ng-repeat="blue in filter4 = (fight1Blue | filter:'tko')">
			</div>
			<div ng-repeat="blue in filter5 = (fight1Blue | filter:'sub')">
			</div>
			<div ng-repeat="blue in filter6 = (fight1Blue | filter:'dec')">
			</div>

			<!-- Diaz -->
			<div ng-repeat="red in filter7 = (fight2Red | filter:'tko')">
			</div>
			<div ng-repeat="red in filter8 = (fight2Red | filter:'sub')">
			</div>
			<div ng-repeat="red in filter9 = (fight2Red | filter:'dec')">
			</div>

			<!-- Silva -->
			<div ng-repeat="blue in filter10 = (fight2Blue | filter:'tko')">
			</div>
			<div ng-repeat="blue in filter11 = (fight2Blue | filter:'sub')">
			</div>
			<div ng-repeat="blue in filter12 = (fight2Blue | filter:'dec')">
			</div>

			<!-- Overeem -->
			<div ng-repeat="red in filter13 = (fight3Red | filter:'tko')">
			</div>
			<div ng-repeat="red in filter14 = (fight3Red | filter:'sub')">
			</div>
			<div ng-repeat="red in filter15 = (fight3Red | filter:'dec')">
			</div>

			<!-- Browne -->
			<div ng-repeat="blue in filter16 = (fight3Blue | filter:'tko')">
			</div>
			<div ng-repeat="blue in filter17 = (fight3Blue | filter:'sub')">
			</div>
			<div ng-repeat="blue in filter18 = (fight3Blue | filter:'dec')">
			</div>

			<!-- Aldo -->
			<div ng-repeat="red in filter19 = (fight4Red | filter:'tko')">
			</div>
			<div ng-repeat="red in filter20 = (fight4Red | filter:'sub')">
			</div>
			<div ng-repeat="red in filter21 = (fight4Red | filter:'dec')">
			</div>

			<!-- Mcgregor -->
			<div ng-repeat="blue in filter22 = (fight4Blue | filter:'tko')">
			</div>
			<div ng-repeat="blue in filter23 = (fight4Blue | filter:'sub')">
			</div>
			<div ng-repeat="blue in filter24 = (fight4Blue | filter:'dec')">
			</div>

			<!-- The actual part the user sees -->
			<h3>Breakdown</h3>
			<div class="breakdownLeft">

				<!-- I now call the filters that were made above, down here. 
					I will explain what's happening in this bit of code.

					{{filter1.length / (filter2.length + filter3.length + filter1.length) * 100 | number: 1}}% : Jones via (T)KO

					Im saying, filter1.length (which is the tko filter for jon jones) 
					divided by the other three jon jones filters added together, times 100.

					this is finding the percent that believes jon will win via tko.

					the number:1 attribute just makes sure that only 1 digit is repeated after the decimal point, so numbers
					dont get long and annoying.

					This is done for every fighter, depending on filter.

					-->

				<div class="details">
				<!-- Jones -->
				<p><span ng-class="{'highlight':(filter1.length / (filter2.length + filter3.length + filter1.length) * 100) > 50}">{{filter1.length / (filter2.length + filter3.length + filter1.length) * 100 | number: 1}}%</span> : Jones via (T)KO</p>
				<p><span ng-class="{'highlight':(filter2.length / (filter2.length + filter3.length + filter1.length) * 100) > 50}">{{filter2.length / (filter2.length + filter3.length + filter1.length) * 100 | number: 1}}%</span> : Jones via Submission</p>
				<p><span ng-class="{'highlight':(filter3.length / (filter2.length + filter3.length + filter1.length) * 100) > 50}">{{filter3.length / (filter2.length + filter3.length + filter1.length) * 100 | number: 1}}%</span> : Jones via Decision</p>
				</div>

				<div class="details">
				<!-- Diaz -->
				<p><span ng-class="{'highlight':(filter7.length / (filter7.length + filter8.length + filter9.length) * 100) > 50}">{{filter7.length / (filter7.length + filter8.length + filter9.length) * 100 | number: 1}}%</span> : Diaz via (T)KO</p>
				<p><span ng-class="{'highlight':(filter8.length / (filter7.length + filter8.length + filter9.length) * 100) > 50}">{{filter8.length / (filter7.length + filter8.length + filter9.length) * 100 | number: 1}}%</span> : Diaz via Submission</p>
				<p><span ng-class="{'highlight':(filter9.length / (filter7.length + filter8.length + filter9.length) * 100) > 50}">{{filter9.length / (filter7.length + filter8.length + filter9.length) * 100 | number: 1}}%</span> : Diaz via Decision</p>
				</div>

				<div class="details">
				<!-- Overeem -->
				<p><span ng-class="{'highlight':(filter13.length / (filter13.length + filter14.length + filter15.length) * 100) > 50}">{{filter13.length / (filter13.length + filter14.length + filter15.length) * 100 | number: 1}}%</span> : Overeem via (T)KO</p>
				<p><span ng-class="{'highlight':(filter14.length / (filter13.length + filter14.length + filter15.length) * 100) > 50}">{{filter14.length / (filter13.length + filter14.length + filter15.length) * 100 | number: 1}}%</span> : Overeem via Submission</p>
				<p><span ng-class="{'highlight':(filter15.length / (filter13.length + filter14.length + filter15.length) * 100) > 50}">{{filter15.length / (filter13.length + filter14.length + filter15.length) * 100 | number: 1}}%</span> : Overeem via Decision</p>
				</div>

				<div class="details">
				<!-- Aldo -->
				<p><span ng-class="{'highlight':(filter19.length / (filter20.length + filter19.length + filter21.length) * 100) > 50}">{{filter19.length / (filter19.length + filter20.length + filter21.length) * 100 | number: 1}}%</span> : Aldo via (T)KO</p>
				<p><span ng-class="{'highlight':(filter20.length / (filter20.length + filter19.length + filter21.length) * 100) > 50}">{{filter20.length / (filter19.length + filter20.length + filter21.length) * 100 | number: 1}}%</span> : Aldo via Submission</p>
				<p><span ng-class="{'highlight':(filter21.length / (filter2.length + filter19.length + filter21.length) * 100) > 50}">{{filter21.length / (filter19.length + filter20.length + filter21.length) * 100 | number: 1}}%</span> : Aldo via Decision</p>
				</div>
				
			</div>

			<div class="breakdownRight">
				<div class="details">
				<!-- Cormier -->
				<p>Cormier via (T)KO : <span ng-class="{'highlight':(filter4.length / (filter4.length + filter5.length + filter6.length) * 100) > 50}">{{filter4.length / (filter4.length + filter5.length + filter5.length) * 100 | number : 1}}% </span></p>
				<p>Cormier via Submission : <span ng-class="{'highlight':(filter5.length / (filter4.length + filter5.length + filter6.length) * 100) > 50}">{{filter5.length / (filter4.length + filter5.length + filter5.length) * 100 | number : 1}}%</span> </p>
				<p>Cormier via Decision : <span ng-class="{'highlight':(filter6.length / (filter4.length + filter5.length + filter6.length) * 100) > 50}">{{filter6.length / (filter4.length + filter5.length + filter5.length) * 100 | number : 1}}%</span></p>
				</div>

				<div class="details">
				<!-- Silva -->
				<p>Silva via (T)KO : <span ng-class="{'highlight':(filter10.length / (filter12.length + filter10.length + filter11.length) * 100) > 50}">{{filter10.length / (filter10.length + filter11.length + filter12.length) * 100 | number: 1}}%</span></p>
				<p>Silva via Submission : <span ng-class="{'highlight':(filter11.length / (filter12.length + filter10.length + filter11.length) * 100) > 50}">{{filter11.length / (filter10.length + filter11.length + filter12.length) * 100 | number: 1}}%</span></p>
				<p>Silva via Decision : <span ng-class="{'highlight':(filter12.length / (filter12.length + filter10.length + filter11.length) * 100) > 50}">{{filter12.length / (filter10.length + filter11.length + filter12.length) * 100 | number: 1}}%</span></p>
				</div>

				<div class="details">
				<!-- Browne -->
				<p>Browne via (T)KO : <span ng-class="{'highlight':(filter16.length / (filter16.length + filter17.length + filter18.length) * 100) > 50}">{{filter16.length / (filter16.length + filter17.length + filter18.length) * 100 | number: 1}}%</span></p>
				<p>Browne via Submission : <span ng-class="{'highlight':(filter17.length / (filter16.length + filter17.length + filter18.length) * 100) > 50}">{{filter17.length / (filter16.length + filter17.length + filter18.length) * 100 | number: 1}}%</span></p>
				<p>Browne via Decision : <span ng-class="{'highlight':(filter18.length / (filter16.length + filter17.length + filter18.length) * 100) > 50}">{{filter18.length / (filter16.length + filter17.length + filter18.length) * 100 | number: 1}}%</span></p>
				</div>

				<div class="details">
				<!-- Mcgregor -->
				<p>Mcgregor via (T)KO : <span ng-class="{'highlight':(filter22.length / (filter22.length + filter23.length + filter24.length) * 100) > 50}">{{filter22.length / (filter22.length + filter23.length + filter24.length) * 100 | number: 1}}%</span></p>
				<p>Mcgregor via Submission : <span ng-class="{'highlight':(filter23.length / (filter22.length + filter23.length + filter24.length) * 100) > 50}">{{filter23.length / (filter22.length + filter23.length + filter24.length) * 100 | number: 1}}%</span></p>
				<p>Mcgregor via Decision : <span ng-class="{'highlight':(filter24.length / (filter22.length + filter23.length + filter24.length) * 100) > 50}">{{filter24.length / (filter22.length + filter23.length + filter24.length) * 100 | number: 1}}%</span></p>
				</div>
			</div>

		</div><!-- end of breakdown container --> 

	</div><!-- end of results div -->

</div>
</div>

<!-- Chatroom -->
<div class="chatContainer">
<h2>Chatroom</h2>
<h3><span class="highlight">{{messages.length}}</span> messages</h3>
<div class="chatroom">
	<!-- where messages from the database are fetched and displayed -->
	<div class="messageArea" ng-repeat="message in messages">
		<p>{{message.body}} 
			<strong><span class="highlight">- {{message.author}} </span></strong>
			<!-- This delete button now only shows if you are logged in, and will only appear by messages you have sent -->
			<button ng-model="userloggedin.username" ng-if="user.twitter.username && message.author == ('@'+user.twitter.username)" class="delete" ng-click="messages.$remove(message)">X</button>
		</p> 
	</div>
	</div>
	<!-- chatroom form  -->
	<form class="chatForm" ng-submit="sendMessage()">
		<input class="chatInput" type="text" ng-model="newMessage.body" placeholder="Type Message Here . . ." maxlength="200" autofocus required/>
		<button class="send" type="submit">Send</button>
	</form>


</div>